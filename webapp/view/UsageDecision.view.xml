<mvc:View controllerName="qmportal780.controller.UsageDecision"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:form="sap.ui.layout.form"
    xmlns:core="sap.ui.core">
    <Page title="Usage Decision" showNavButton="true" navButtonPress="onNavBack">
        <content>
            <VBox class="sapUiSmallMargin">
                <Panel headerText="Search Inspection Lot">
                    <content>
                        <HBox alignItems="Center">
                            <Input id="inpInspLot" placeholder="Enter Inspection Lot Number" width="300px"/>
                            <Button text="Search" press="onSearch" type="Emphasized" class="sapUiTinyMarginBegin"/>
                        </HBox>
                    </content>
                </Panel>

                <Panel id="pnlDecision" visible="false" headerText="Make Usage Decision">
                    <content>
                        <form:SimpleForm editable="false" layout="ResponsiveGridLayout" title="Inspection Details">
                            <form:content>
                                <Label text="Inspection Lot"/>
                                <Text text="{usage>InspectionLot}"/>
                                
                                <Label text="Total Lot Quantity"/>
                                <Text text="{usage>InspectionLotQty}"/>

                                <Label text="Recorded Quantity (Total)"/>
                                <Text text="{usage>TotalRecordedQty}" state="{usage>QtyState}"/> <!-- Validation State -->

                                <Label text="Difference"/>
                                <Text text="{usage>DiffQty}" state="{usage>DiffState}"/>
                                
                                <Label text="Current Status"/>
                                <Text text="{usage>UsageDecision}"/>
                            </form:content>
                        </form:SimpleForm>
                        
                        <HBox class="sapUiSmallMarginTop">
                            <Button text="Approve" type="Accept" press="onApprove" enabled="{usage>ActionEnabled}" class="sapUiTinyMarginEnd"/>
                            <Button text="Reject" type="Reject" press="onReject" enabled="{usage>ActionEnabled}"/>
                        </HBox>
                    </content>
                </Panel>
            </VBox>
        </content>
    </Page>
</mvc:View>
